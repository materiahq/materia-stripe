[
  {
    "method": "post",
    "url": "/user/subscriptions",
    "controller": "stripe",
    "action": "subscribe",
    "parent": "Stripe",
    "permissions": ["Authenticated"],
    "params": [
      {
        "name": "plans",
        "type": "text",
        "required": true,
        "component": "input"
	  },
	  {
        "name": "card_token",
        "type": "text",
        "required": true,
        "component": "input"
      }
    ]
  },
  {
    "method": "get",
    "url": "/user/stripe",
    "controller": "stripe",
    "action": "getCustomer",
    "parent": "Stripe",
    "permissions": ["Authenticated"],
    "params": [
    ]
  },
  {
	"method": "put",
	"url": "/user/subscriptions/:subscription",
	"controller": "stripe",
	"action": "updateSubscription",
	"parent": "Stripe",
	"permissions": ["Authenticated"],
	"params": [
		{
			"name": "plans",
			"type": "text",
			"required": true
		}
	]
  },
  {
    "method": "delete",
    "url": "/user/subscriptions/:subscription",
    "controller": "stripe",
    "action": "unsubscribe",
    "parent": "Stripe",
    "permissions": ["Authenticated"],
    "params": [
		{
			"name": "cancel_at_period_end",
			"type": "boolean",
			"required": false
		}, {
			"name": "cancel_unsubscribe",
			"type": "boolean",
			"required": false
		}
    ]
  }
]